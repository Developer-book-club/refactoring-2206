# 4장 - 테스트 구축하기

- **TDD(테스트 주도 개발)**
  - 리팩토링을 제대로 하려면 견고한 테스트 스위트(test suite)가 뒷받침돼야 한다.
    이는 버그를 찾는 데 걸리는 시간을 대폭 줄여주며 적은 노력으로도 엄청나 효과를 볼 수 있다.
  - 버그 수정 자체는 대체로 금방 끝난다. 진짜 끔찍한 것은 버그를 찾는 여정이다.
    또한 버그를 잡는 과정에서 다른 버그를 심기도 하는데, 그 사실을 한참이 지나서야 알아채기도 한다. 그래서 또다시 그 버그를 찾느라 많은 시간을 날린다.
  - 테스트를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다.
    - 테스트 - 코드 - 리팩토링
      1. (처음에 통과하지 못할) 테스트 작성
      2. 테스트 통과하게끔 코드 작성
      3. 결과 코드 리팩토링
  - 실패해야 할 상황에서는 반드시 실패하게 만들자
  - 자주 테스트하라. 작성 중인 코드는 최소한 몇 분 간격으로 테스트하고 적어도 하루에 한 번은 전체 테스트를 돌려보자.
  - 완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는 게 낫다.
  - 어차피 모든 버그를 잡아낼 수 없다고 생각하여 테스트를 작성하지 않는다면 대다수의 버그를 잡을 수 있는 기회를 날리는 셈이다.
  - 충분한 테스트를 평가하는 명확한 기준은 없다. 하지만 리팩토링 후 테스트를 모두 통과한 걸 보고 리팩토링 과정에서 생겨난 버그가 하나도 없다고 확실할 수 있다면 충분히 좋은 테스트라 할 수 있다.
